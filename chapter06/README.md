# Express 와 MongoDB 를 이용한 간단 게시판 만들기
- 기능: 글쓰기, 수정, 삭제, 리스트 보여주기</br>
       댓글추가, 댓글삭제
- 테스트방법: 서버 기동 후 웹페이지에서 실행
- 컴포넌트: 웹 애플리케이션 서버: Express, 데이터베이스: MongoDB

## 계층 구조
N 계층 아키텍처를 이용할 예정 -> 흔히 말하는 MVC 패턴 </br>
1. view -> 유저가 보는 화면. HTML 탬플릿 엔진은 핸들바로 작성한다.
2. Controller -> 따로 디렉터리로 구분하지는 않고 app.js 안에 라우터 함수들로 분기
3. Service -> 서비는 post-service.js 하나로 통일
4. Model -> 구조상 모델에서 데이터베이스와 통신하게 할 예정이지만, 명시적으로 모델을 작성하진 않고 몽고티비 라이브러리의 컬랙션 객체가 모델역할을 할 예정


3 tier 계층 구조 아키텍처 적용! -> 3계층 구조는 웹 프레임워크에서 주로 사용하는 MVC 패턴을 적용하기에 적합함</br>
3계층에는 컨트롤러, 서비스, 데이터 엑세스 계층을 가진다.
- 컨트롤러: 뷰에서 넘어온 요청을 받아서 권한 체크, 유효성 검증 등을 한 후에 서비스 계층으로 넘긴다. -> 익스프레스 라우터
- 서비스: 서비스 계층에서는 비즈니스 로직을 처리한다.</br>
        서비스로 비즈니스 로직을 분리하면 각각 다른 컨트롤러에서 같은 서비스를 재사용할 수 있게 된다. -> 서비스 클래스 또는 함수
- 데이터 엑세스 계층: 서비스에서 사용할 데이터를 주고받는 곳 -> 몽고디비 모듈


### 게시판 프로젝트의 데이터 흐름
뷰(웹페이지) -> 컨트롤러(express-router) -> 서비스(서비스 함수 또는 클래스) -> 모델(데이터모델) -> 데이터 엑세스(몽고디비 모델) -> 서비스 -> 컨트롤러 -> 뷰


### 테스트하는 코드
"test": "echo \"Error: no test specified\" && exit 1"

### 익스프레스 설치 및 프로제긑 디렉터리 구조 잡기
```
// 프로젝트 버전을 통일하기 위해서 설정 -> 후에 최신버전으로 컨버팅하는 연습해도 좋을듯

> $ npm i express@4.17.3
> $ npm i mongodb@4.13.0

// 뷰에서 화면처럼 보이기 위해 탬플릿 엔진을 사용(핸들바)

> $ npm i express-handlebars@6.0.3

// nodemon 사용

> $ npm i nodemon@2.0.20
```

### package.json 수정하기
npm start 를 이용하여 node 를 실행시키려면, package.json 에 scripts 에 "start": "node app.js" 식으로 추가해주면 된다.</br>
nodemon 을 이용하는 경우, "start": "npx nodemon app.js" 식으로 수정하면된다/

